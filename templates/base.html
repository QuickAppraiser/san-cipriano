{% load static i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}San Cipriano - Reserva natural comunitaria en Colombia. Turismo responsable y conservaci√≥n ambiental.{% endblock %}">
    <meta name="keywords" content="San Cipriano, reserva natural Colombia, ecoturismo Colombia, turismo Colombia, cascadas Colombia, r√≠os cristalinos Colombia, agua cristalina Colombia, naturaleza Colombia, selva tropical Colombia, Pac√≠fico colombiano, Valle del Cauca turismo, Buenaventura turismo, brujitas San Cipriano, turismo comunitario Colombia, biodiversidad Colombia, avistamiento de aves Colombia, senderismo Colombia, hospedaje ecol√≥gico Colombia, vacaciones naturaleza Colombia, destinos ecol√≥gicos Colombia, lugares para visitar en Colombia, mejores cascadas Colombia, r√≠os m√°s limpios Colombia, para√≠so natural Colombia, turismo sostenible Colombia, comunidad afrodescendiente Colombia, cultura palenquera, ecoturismo Pac√≠fico, aventura Colombia, tubing Colombia, charcos naturales Colombia, piscinas naturales Colombia, excursiones desde Cali, que hacer en Buenaventura, lugares cerca de Cali, weekend getaway Colombia, nature tourism Colombia, Colombia waterfalls, crystal clear rivers Colombia, ecotourism South America, best nature destinations Colombia, off the beaten path Colombia, hidden gems Colombia, sustainable tourism Colombia, community tourism Colombia, Choc√≥ biogeogr√°fico">
    <meta name="author" content="Comunidad de San Cipriano">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">

    <!-- Geo-targeting for Colombia and worldwide -->
    <meta name="geo.region" content="CO-VAC">
    <meta name="geo.placename" content="San Cipriano, Buenaventura, Valle del Cauca, Colombia">
    <meta name="geo.position" content="3.8167;-76.8833">
    <meta name="ICBM" content="3.8167, -76.8833">
    <meta name="language" content="Spanish, English, French, German, Italian, Portuguese">
    <meta name="coverage" content="Worldwide">
    <meta name="distribution" content="global">
    <meta name="rating" content="general">
    <meta name="revisit-after" content="3 days">

    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="kHDMNs05GGcwYVNr55wp5GDeNNDX8hTYroikAKgbAlg" />

    <!-- Bing Webmaster Tools Verification -->
    <meta name="msvalidate.01" content="302923EC95C786683432ED786D51C3FF" />

    <!-- Google Analytics (GA4) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FF0LX57FWQ"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FF0LX57FWQ');
    </script>

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}{{ site_name }} - {{ site_tagline }}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Reserva natural comunitaria en el Pac√≠fico colombiano. Turismo responsable, biodiversidad √∫nica y las famosas brujitas.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% static 'images/gallery/rio-cristalino.jpg' %}{% endblock %}">
    <meta property="og:locale" content="{{ LANGUAGE_CODE }}">
    <meta property="og:locale:alternate" content="es">
    <meta property="og:locale:alternate" content="en">
    <meta property="og:locale:alternate" content="fr">
    <meta property="og:locale:alternate" content="de">
    <meta property="og:locale:alternate" content="it">
    <meta property="og:locale:alternate" content="pt">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{{ site_name }} - {{ site_tagline }}">
    <meta name="twitter:description" content="Reserva natural comunitaria en el Pac√≠fico colombiano. Turismo responsable y las famosas brujitas.">

    <!-- Schema.org for Google - TouristAttraction -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TouristAttraction",
        "name": "San Cipriano",
        "description": "Reserva natural comunitaria en el Pac√≠fico colombiano con r√≠os cristalinos, biodiversidad √∫nica y las famosas brujitas.",
        "url": "{{ request.scheme }}://{{ request.get_host }}/",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "San Cipriano",
            "addressRegion": "Valle del Cauca",
            "addressCountry": "CO"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "3.8167",
            "longitude": "-76.8833"
        },
        "touristType": ["Eco-tourists", "Nature lovers", "Bird watchers"],
        "publicAccess": true
    }
    </script>

    <!-- Schema.org LocalBusiness for local SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "{{ site_name|default:'San Cipriano' }}",
        "description": "Turismo comunitario responsable en la reserva natural de San Cipriano, Valle del Cauca, Colombia.",
        "url": "{{ request.scheme }}://{{ request.get_host }}/",
        "telephone": "{{ community_whatsapp|default:'+573188383917' }}",
        "email": "{{ community_email|default:'info@sanciprianoreserva.com' }}",
        "image": "{% static 'images/gallery/rio-cristalino.jpg' %}",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Reserva Natural San Cipriano",
            "addressLocality": "San Cipriano",
            "addressRegion": "Valle del Cauca",
            "postalCode": "764001",
            "addressCountry": "CO"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "3.8167",
            "longitude": "-76.8833"
        },
        "priceRange": "$$ - $$$",
        "openingHours": "Mo-Su 06:00-18:00",
        "paymentAccepted": ["Cash", "Bank Transfer"],
        "currenciesAccepted": "COP",
        "areaServed": {
            "@type": "GeoCircle",
            "geoMidpoint": {
                "@type": "GeoCoordinates",
                "latitude": "3.8167",
                "longitude": "-76.8833"
            },
            "geoRadius": "50000"
        },
        "hasOfferCatalog": {
            "@type": "OfferCatalog",
            "name": "Servicios Tur√≠sticos",
            "itemListElement": [
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "TouristTrip",
                        "name": "Paseo en Brujita",
                        "description": "Transporte tradicional sobre rieles impulsado por motocicleta"
                    }
                },
                {
                    "@type": "Offer",
                    "itemOffered": {
                        "@type": "LodgingBusiness",
                        "name": "Hospedaje Comunitario",
                        "description": "Alojamiento con familias locales de la comunidad"
                    }
                }
            ]
        },
        "sameAs": [
            "https://www.instagram.com/sanciprianoreserva",
            "https://www.facebook.com/sanciprianoreserva"
        ]
    }
    </script>

    <!-- Schema.org Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Comunidad de San Cipriano",
        "url": "{{ request.scheme }}://{{ request.get_host }}/",
        "logo": "{% static 'images/favicon.svg' %}",
        "description": "Comunidad local que gestiona el turismo responsable en la Reserva Natural de San Cipriano, Colombia.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "San Cipriano",
            "addressRegion": "Valle del Cauca",
            "addressCountry": "CO"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "telephone": "{{ community_whatsapp|default:'+573188383917' }}",
            "contactType": "reservations",
            "availableLanguage": ["Spanish", "English"]
        }
    }
    </script>

    <!-- Schema.org NaturalFeature for Rivers and Waterfalls -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "NaturalFeature",
        "name": "R√≠os Cristalinos de San Cipriano",
        "description": "R√≠os de agua cristalina en la selva del Pac√≠fico colombiano, considerados entre los m√°s limpios de Colombia. Ideales para nadar, tubing y observar la naturaleza.",
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "3.8167",
            "longitude": "-76.8833"
        },
        "containedInPlace": {
            "@type": "Place",
            "name": "Reserva Natural San Cipriano",
            "address": {
                "@type": "PostalAddress",
                "addressLocality": "San Cipriano",
                "addressRegion": "Valle del Cauca",
                "addressCountry": "Colombia"
            }
        }
    }
    </script>

    <!-- Schema.org Place for better geographic SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Place",
        "name": "San Cipriano - Reserva Natural",
        "description": "Reserva natural comunitaria con cascadas, r√≠os cristalinos y biodiversidad √∫nica en el Pac√≠fico colombiano. Hogar de las famosas brujitas.",
        "url": "{{ request.scheme }}://{{ request.get_host }}/",
        "telephone": "+573188383917",
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "3.8167",
            "longitude": "-76.8833"
        },
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Reserva Natural San Cipriano",
            "addressLocality": "Buenaventura",
            "addressRegion": "Valle del Cauca",
            "postalCode": "764001",
            "addressCountry": "CO"
        },
        "hasMap": "https://www.google.com/maps?q=3.8167,-76.8833",
        "isAccessibleForFree": false,
        "maximumAttendeeCapacity": 500,
        "publicAccess": true,
        "smokingAllowed": false,
        "amenityFeature": [
            {"@type": "LocationFeatureSpecification", "name": "R√≠os cristalinos", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Cascadas naturales", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Senderos ecol√≥gicos", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Transporte en brujitas", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Hospedaje comunitario", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Restaurantes locales", "value": true},
            {"@type": "LocationFeatureSpecification", "name": "Gu√≠as tur√≠sticos", "value": true}
        ],
        "keywords": "cascadas Colombia, r√≠os cristalinos, agua cristalina, naturaleza Colombia, ecoturismo, reserva natural, brujitas, Pac√≠fico colombiano, turismo comunitario"
    }
    </script>

    <!-- Schema.org for Travel/Tourism specific -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "TouristDestination",
        "name": "San Cipriano",
        "description": "Destino ecotur√≠stico √∫nico en Colombia con r√≠os de agua cristalina, cascadas naturales, y las famosas brujitas. Turismo comunitario en el Pac√≠fico colombiano.",
        "url": "{{ request.scheme }}://{{ request.get_host }}/",
        "touristType": [
            "Eco-tourists",
            "Nature lovers",
            "Adventure seekers",
            "Bird watchers",
            "Photographers",
            "Families",
            "Backpackers",
            "Cultural tourists"
        ],
        "includesAttraction": [
            {
                "@type": "TouristAttraction",
                "name": "R√≠os Cristalinos",
                "description": "R√≠os de agua transparente perfectos para nadar y hacer tubing"
            },
            {
                "@type": "TouristAttraction",
                "name": "Las Brujitas",
                "description": "Transporte √∫nico sobre rieles impulsado por motocicleta"
            },
            {
                "@type": "TouristAttraction",
                "name": "Cascadas Naturales",
                "description": "M√∫ltiples cascadas en medio de la selva tropical"
            },
            {
                "@type": "TouristAttraction",
                "name": "Selva Tropical",
                "description": "Bosque h√∫medo tropical con biodiversidad √∫nica"
            }
        ]
    }
    </script>

    <title>{% block title %}{{ site_name }}{% endblock %} | {{ site_tagline }}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="{% static 'images/favicon.svg' %}">
    <link rel="canonical" href="{{ request.build_absolute_uri }}">

    <!-- Alternate languages for international SEO -->
    <link rel="alternate" hreflang="es" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=es">
    <link rel="alternate" hreflang="en" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=en">
    <link rel="alternate" hreflang="fr" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=fr">
    <link rel="alternate" hreflang="de" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=de">
    <link rel="alternate" hreflang="it" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=it">
    <link rel="alternate" hreflang="pt" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}?lang=pt">
    <link rel="alternate" hreflang="x-default" href="{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'selva': {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                        },
                        'rio': {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        'tierra': {
                            50: '#faf5f0',
                            100: '#f5ebe0',
                            200: '#e6d5c3',
                            300: '#d4b896',
                            400: '#c49a6c',
                            500: '#b8834d',
                            600: '#a67042',
                            700: '#8a5a38',
                            800: '#704a33',
                            900: '#5c3e2c',
                        }
                    },
                    fontFamily: {
                        'display': ['Georgia', 'serif'],
                        'body': ['system-ui', '-apple-system', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Custom styles -->
    <style>
        .hero-gradient {
            background: linear-gradient(135deg, rgba(20, 83, 45, 0.9) 0%, rgba(7, 89, 133, 0.8) 100%);
        }
        .nature-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2322c55e' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
    </style>

    {% block extra_head %}{% endblock %}
</head>
<body class="font-body bg-selva-50 text-gray-800 antialiased">
    <!-- Skip to content link for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 focus:z-50 focus:px-4 focus:py-2 focus:bg-selva-600 focus:text-white focus:rounded-lg focus:outline-none focus:ring-2 focus:ring-white">
        {% trans "Saltar al contenido principal" %}
    </a>

    <!-- Navigation -->
    <nav class="bg-selva-900/95 backdrop-blur-sm text-white sticky top-0 z-40 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-14">
                <!-- Logo -->
                <a href="{% url 'core:home' %}" class="flex items-center gap-2 flex-shrink-0">
                    <span class="text-2xl">üåø</span>
                    <div class="flex flex-col leading-tight">
                        <span class="font-display text-base font-bold">{{ site_name }}</span>
                        <span class="hidden lg:block text-selva-400 text-xs">{{ site_tagline }}</span>
                    </div>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden lg:flex items-center gap-0.5">
                    <a href="{% url 'content:about' %}" class="px-3 py-1.5 text-sm rounded-md hover:bg-selva-800 transition-colors">
                        {% trans "Sobre Nosotros" %}
                    </a>
                    <a href="{% url 'core:protection' %}" class="px-3 py-1.5 text-sm rounded-md hover:bg-selva-800 transition-colors">
                        {% trans "Protecci√≥n" %}
                    </a>
                    <a href="{% url 'core:safety' %}" class="px-3 py-1.5 text-sm rounded-md hover:bg-selva-800 transition-colors">
                        {% trans "Seguridad" %}
                    </a>
                    <a href="{% url 'content:biodiversity' %}" class="px-3 py-1.5 text-sm rounded-md hover:bg-selva-800 transition-colors">
                        {% trans "Biodiversidad" %}
                    </a>
                    <a href="{% url 'visitors:services' %}" class="px-3 py-1.5 text-sm rounded-md hover:bg-selva-800 transition-colors">
                        {% trans "Servicios" %}
                    </a>
                    <a href="{% url 'visitors:inquiry_form' %}" class="ml-3 px-4 py-1.5 text-sm bg-rio-500 hover:bg-rio-600 rounded-md font-medium transition-colors whitespace-nowrap">
                        {% trans "Planifica tu Visita" %}
                    </a>

                    <!-- Language Selector -->
                    <div class="relative ml-1">
                        <button id="lang-toggle" class="flex items-center gap-1 px-2 py-1.5 text-xs rounded-md hover:bg-selva-800 transition-colors border border-selva-700" aria-label="{% trans 'Cambiar idioma' %}" aria-expanded="false" aria-haspopup="true">
                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                            </svg>
                            <span class="font-medium">{{ LANGUAGE_CODE|upper }}</span>
                            <svg class="w-2.5 h-2.5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </button>
                        <div id="lang-dropdown" class="hidden absolute right-0 mt-1 w-36 bg-white rounded-md shadow-xl border border-gray-100 overflow-hidden z-50">
                            {% for lang in languages_with_urls %}
                            <form action="{% url 'set_language' %}" method="post" style="margin:0;">
                                {% csrf_token %}
                                <input type="hidden" name="next" value="{{ lang.url }}">
                                <input type="hidden" name="language" value="{{ lang.code }}">
                                <button type="submit"
                                        class="w-full text-left px-3 py-1.5 text-xs hover:bg-selva-50 transition-colors {% if lang.code == LANGUAGE_CODE %}bg-selva-100 text-selva-700 font-medium{% else %}text-gray-700{% endif %}">
                                    {{ lang.name }}
                                </button>
                            </form>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="lg:hidden p-2 rounded-lg hover:bg-selva-800 transition-colors" aria-label="{% trans 'Abrir men√∫ de navegaci√≥n' %}" aria-expanded="false" aria-controls="mobile-menu">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden lg:hidden border-t border-selva-800">
            <div class="px-4 py-3 space-y-2">
                <a href="{% url 'content:about' %}" class="block px-4 py-2 rounded-lg hover:bg-selva-800 transition-colors">
                    {% trans "Sobre Nosotros" %}
                </a>
                <a href="{% url 'core:protection' %}" class="block px-4 py-2 rounded-lg hover:bg-selva-800 transition-colors">
                    {% trans "Protecci√≥n" %}
                </a>
                <a href="{% url 'core:safety' %}" class="block px-4 py-2 rounded-lg hover:bg-selva-800 transition-colors">
                    {% trans "Seguridad" %}
                </a>
                <a href="{% url 'content:biodiversity' %}" class="block px-4 py-2 rounded-lg hover:bg-selva-800 transition-colors">
                    {% trans "Biodiversidad" %}
                </a>
                <a href="{% url 'visitors:services' %}" class="block px-4 py-2 rounded-lg hover:bg-selva-800 transition-colors">
                    {% trans "Servicios" %}
                </a>
                <a href="{% url 'visitors:inquiry_form' %}" class="block px-4 py-3 bg-rio-500 hover:bg-rio-600 rounded-lg font-medium text-center transition-colors">
                    {% trans "Planifica tu Visita" %}
                </a>

                <!-- Mobile Language Selector -->
                <div class="mt-4 pt-4 border-t border-selva-800 flex flex-wrap gap-2">
                    {% for lang in languages_with_urls %}
                    <form action="{% url 'set_language' %}" method="post" style="margin:0;">
                        {% csrf_token %}
                        <input type="hidden" name="next" value="{{ lang.url }}">
                        <input type="hidden" name="language" value="{{ lang.code }}">
                        <button type="submit"
                                class="px-3 py-1 text-sm rounded-lg transition-colors {% if lang.code == LANGUAGE_CODE %}bg-selva-600 text-white{% else %}bg-selva-800 text-selva-300 hover:bg-selva-700{% endif %}">
                            {{ lang.code|upper }}
                        </button>
                    </form>
                    {% endfor %}
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        {% block content %}{% endblock %}
    </main>

    <!-- Visitor Counter - Floating -->
    <div class="fixed bottom-4 left-4 z-40">
        <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-lg px-4 py-3 border border-selva-200">
            <div class="flex items-center gap-3">
                <div class="bg-selva-100 rounded-full p-2">
                    <svg class="w-5 h-5 text-selva-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <div>
                    <div class="text-xl font-bold text-selva-700" id="visitor-counter">{{ visitor_count|default:"180" }}</div>
                    <div class="text-xs text-gray-500">{% trans "Personas interesadas" %}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Button - Floating -->
    <a href="https://wa.me/{{ community_whatsapp|slice:'1:' }}" target="_blank" rel="noopener"
       class="fixed bottom-4 right-4 z-40 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg transition-all hover:scale-110"
       aria-label="{% trans 'Contactar por WhatsApp' %}">
        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
    </a>

    <!-- Footer -->
    <footer class="bg-selva-900 text-white mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- About -->
                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <span class="text-2xl">üåø</span>
                        <span class="font-display text-xl font-bold">{{ site_name }}</span>
                    </div>
                    <p class="text-selva-300 text-sm">
                        {% trans "Una reserva natural cuidada por su comunidad. Turismo responsable y conservaci√≥n ambiental en el coraz√≥n del Pac√≠fico colombiano." %}
                    </p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h3 class="font-semibold mb-4">{% trans "Enlaces" %}</h3>
                    <ul class="space-y-2 text-selva-300">
                        <li><a href="{% url 'content:about' %}" class="hover:text-white transition-colors">{% trans "Sobre Nosotros" %}</a></li>
                        <li><a href="{% url 'core:protection' %}" class="hover:text-white transition-colors">{% trans "Protecci√≥n de la Reserva" %}</a></li>
                        <li><a href="{% url 'core:safety' %}" class="hover:text-white transition-colors">{% trans "Seguridad y Normas" %}</a></li>
                        <li><a href="{% url 'content:biodiversity' %}" class="hover:text-white transition-colors">{% trans "Biodiversidad" %}</a></li>
                        <li><a href="{% url 'content:faq' %}" class="hover:text-white transition-colors">{% trans "Preguntas Frecuentes" %}</a></li>
                    </ul>
                </div>

                <!-- Contact -->
                <div>
                    <h3 class="font-semibold mb-4">{% trans "Contacto" %}</h3>
                    <ul class="space-y-3 text-selva-300">
                        <li class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                            </svg>
                            <a href="https://wa.me/{{ community_whatsapp|slice:'1:' }}" class="hover:text-white transition-colors">{{ community_whatsapp }}</a>
                        </li>
                        <li class="flex items-center gap-2">
                            <svg class="w-5 h-5 text-rio-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            <a href="mailto:{{ community_email }}" class="hover:text-white transition-colors">{{ community_email }}</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="border-t border-selva-800 mt-8 pt-8 text-center text-selva-400 text-sm">
                <p>¬© {% now "Y" %} {{ site_name }}. {% trans "Sitio oficial de la comunidad." %}</p>
                <p class="mt-1">{% trans "Turismo comunitario y conservaci√≥n ambiental." %}</p>
                <div class="mt-4 flex flex-wrap justify-center gap-4">
                    <a href="{% url 'core:terms' %}" class="hover:text-white transition-colors underline">
                        {% trans "T√©rminos y Condiciones" %}
                    </a>
                    <span class="text-selva-600">‚Ä¢</span>
                    <a href="{% url 'core:privacy' %}" class="hover:text-white transition-colors underline">
                        {% trans "Pol√≠tica de Privacidad" %}
                    </a>
                    <span class="text-selva-600">‚Ä¢</span>
                    <a href="{% url 'core:cookies' %}" class="hover:text-white transition-colors underline">
                        {% trans "Cookies" %}
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Mobile menu toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // Language dropdown toggle
        document.getElementById('lang-toggle').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            document.getElementById('lang-dropdown').classList.toggle('hidden');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('lang-dropdown');
            const toggle = document.getElementById('lang-toggle');
            if (!dropdown.contains(e.target) && !toggle.contains(e.target)) {
                dropdown.classList.add('hidden');
            }
        });

        // Prevent language form submissions from bubbling to other forms
        document.querySelectorAll('#lang-dropdown form').forEach(function(form) {
            form.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        });

        // Animate visitor counter on load
        document.addEventListener('DOMContentLoaded', function() {
            const counter = document.getElementById('visitor-counter');
            const target = parseInt(counter.textContent);
            let current = Math.max(0, target - 50);

            const increment = () => {
                if (current < target) {
                    current += Math.ceil((target - current) / 10);
                    counter.textContent = current;
                    requestAnimationFrame(increment);
                } else {
                    counter.textContent = target;
                }
            };
            increment();
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>
